--- origsrc/GraphicsMagick-1.2.5/Magick++/Makefile.am	2005-12-06 21:45:37.000000000 -0600
+++ src/GraphicsMagick-1.2.5/Magick++/Makefile.am	2008-07-27 11:03:51.421875000 -0500
@@ -136,6 +136,7 @@
 	Magick++/lib/Magick++/TypeMetric.h
 
 Magick___lib_libGraphicsMagick___la_LDFLAGS = \
+	-no-undefined \
 	-version-info $(MAGICK_PLUS_PLUS_LIBRARY_CURRENT):$(MAGICK_PLUS_PLUS_LIBRARY_REVISION):$(MAGICK_PLUS_PLUS_LIBRARY_AGE)
 Magick___lib_libGraphicsMagick___la_LIBADD = $(LIBMAGICK)
 
--- origsrc/GraphicsMagick-1.2.5/configure.ac	2008-07-23 14:28:08.000000000 -0500
+++ src/GraphicsMagick-1.2.5/configure.ac	2008-07-27 11:03:51.437500000 -0500
@@ -208,7 +208,6 @@
 cygwin_build='no'
 case "${host_os}" in
   cygwin* )
-    StaticCplusPlusLibraries='yes'
     cygwin_build='yes'
     LIB_GDI32='-lgdi32'
     ;;
@@ -2794,7 +2793,7 @@
 # Determine path to pick up GraphicsMagick library from for use with building PerlMagick
 MAGICKLIBDIR="${LIB_DIR}"
 MAGICKLIB="-L${MAGICKLIBDIR} -lGraphicsMagick"
-if test $with_perl_static = 'yes'
+if test $with_perl_static = 'yes' || test "$cygwin_build" = 'yes'
 then
   # Find out where libtool hides its uninstalled libraries (as libtool_objdir)
   libtool_objdir=$objdir
